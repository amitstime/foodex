@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_TwoColumnLayout.cshtml";
}

                
    

    <style type="text/css" media="screen">
.wholePageRep{    
      height:152px;
    }
    
.content-page-rep{
 
    width:100%;
    height:auto;
    margin-top:-42px;
    }   
    </style>


<div style="width: 743px; border: 1px solid rgb(225, 225, 225); min-height:400px;">    
    <h3 class="foodtitle" style="color:#F19300; font-size:18px; font-weight:bold; padding:15px">User Registration </h3>  

        <div style="background-color:#fff; padding:10px;">

 @using (Html.BeginForm("Register", "Customer", new { Returnurl = ViewBag.ReturnUrl }))
 {
<div id="add">
    
                <div id="divUserRegister">
                </div>
                <h4>Personal Info</h4>
                           
                <hr />
                <div class="editor-label">Full Name*</div>              
                <div class="editor-field"><input name="txtFName" type="text" value="@ViewBag.FName" id="txtFName">@Html.ValidationMessage("FullName")</div>    
                
    <div style="clear:both"></div>     
    
                         <div class="editor-label">Address*</div>                        
                         <div class="editor-field"><input name="txtAddress" type="text" value="@ViewBag.Address" id="txtAddress">@Html.ValidationMessage("Address")</div>                       
    
        <div style="clear:both"></div>                                                          
                            
                <div class="editor-label">Email*</div> 
                <div class="editor-field"> <input name="txtEmail" type="text" value="@ViewBag.Email"id="txtEmail">@Html.ValidationMessage("Email")<span id="User_EmailExists"></span></div>
    
    <div style="clear:both"></div>
    
               @* <div class="editor-label">Date of Birth</div>     
 
                <div class="editor-field" style="padding-top:7px;">
                    <select name="Day" id="Day" class="editBox" onblur="setCssIfNotEmpty(this,'dob');" onmouseover="ShowToolTip(this, 'Please enter day.');">
	                            <option selected="selected" value="-1">Day</option>
	                            <option value="01">1</option>
	                            <option value="02">2</option>
	                            <option value="03">3</option>
	                            <option value="04">4</option>
	                            <option value="05">5</option>
	                            <option value="06">6</option>
	                            <option value="07">7</option>
	                            <option value="08">8</option>
	                            <option value="09">9</option>
	                            <option value="10">10</option>
	                            <option value="11">11</option>
	                            <option value="12">12</option>
	                            <option value="13">13</option>
	                            <option value="14">14</option>
	                            <option value="15">15</option>
	                            <option value="16">16</option>
	                            <option value="17">17</option>
	                            <option value="18">18</option>
	                            <option value="19">19</option>
	                            <option value="20">20</option>
	                            <option value="21">21</option>
	                            <option value="22">22</option>
	                            <option value="23">23</option>
	                            <option value="24">24</option>
	                            <option value="25">25</option>
	                            <option value="26">26</option>
	                            <option value="27">27</option>
	                            <option value="28">28</option>
	                            <option value="29">29</option>
	                            <option value="30">30</option>
	                            <option value="31">31</option>

                            </select>
                            &nbsp;&nbsp;&nbsp;&nbsp;<select name="Month" id="Month" class="editBox" onblur="setCssIfNotEmpty(this,'dob');" onmouseover="ShowToolTip(this, 'Please enter month.');">
	                                <option selected="selected" value="-1">Month</option>
	                                <option value="01">January</option>
	                                <option value="02">February</option>
	                                <option value="03">March</option>
	                                <option value="04">April</option>
	                                <option value="05">May</option>
	                                <option value="06">June</option>
	                                <option value="07">July</option>
	                                <option value="08">August</option>
	                                <option value="09">September</option>
	                                <option value="10">October</option>
	                                <option value="11">November</option>
	                                <option value="12">December</option>

                            </select>
                            &nbsp;&nbsp;&nbsp;&nbsp;<select name="Year" id="Year" class="editBox" onblur="setCssIfNotEmpty(this,'dob');" onmouseover="ShowToolTip(this, 'Please enter year.');">
	                            <option selected="selected" value="-1">Year</option>
	                            <option value="2014">2014</option>
	                            <option value="2013">2013</option>
	                            <option value="2012">2012</option>
	                            <option value="2011">2011</option>
	                            <option value="2010">2010</option>
	                            <option value="2009">2009</option>
	                            <option value="2008">2008</option>
	                            <option value="2007">2007</option>
	                            <option value="2006">2006</option>
	                            <option value="2005">2005</option>
	                            <option value="2004">2004</option>
	                            <option value="2003">2003</option>
	                            <option value="2002">2002</option>
	                            <option value="2001">2001</option>
	                            <option value="2000">2000</option>
	                            <option value="1999">1999</option>
	                            <option value="1998">1998</option>
	                            <option value="1997">1997</option>
	                            <option value="1996">1996</option>
	                            <option value="1995">1995</option>
	                            <option value="1994">1994</option>
	                            <option value="1993">1993</option>
	                            <option value="1992">1992</option>
	                            <option value="1991">1991</option>
	                            <option value="1990">1990</option>
	                            <option value="1989">1989</option>
	                            <option value="1988">1988</option>
	                            <option value="1987">1987</option>
	                            <option value="1986">1986</option>
	                            <option value="1985">1985</option>
	                            <option value="1984">1984</option>
	                            <option value="1983">1983</option>
	                            <option value="1982">1982</option>
	                            <option value="1981">1981</option>
	                            <option value="1980">1980</option>
	                            <option value="1979">1979</option>
	                            <option value="1978">1978</option>
	                            <option value="1977">1977</option>
	                            <option value="1976">1976</option>
	                            <option value="1975">1975</option>
	                            <option value="1974">1974</option>
	                            <option value="1973">1973</option>
	                            <option value="1972">1972</option>
	                            <option value="1971">1971</option>
	                            <option value="1970">1970</option>
	                            <option value="1969">1969</option>
	                            <option value="1968">1968</option>
	                            <option value="1967">1967</option>
	                            <option value="1966">1966</option>
	                            <option value="1965">1965</option>
	                            <option value="1964">1964</option>
	                            <option value="1963">1963</option>
	                            <option value="1962">1962</option>
	                            <option value="1961">1961</option>
	                            <option value="1960">1960</option>
	                            <option value="1959">1959</option>
	                            <option value="1958">1958</option>
	                            <option value="1957">1957</option>
	                            <option value="1956">1956</option>
	                            <option value="1955">1955</option>
	                            <option value="1954">1954</option>
	                            <option value="1953">1953</option>
	                            <option value="1952">1952</option>
	                            <option value="1951">1951</option>
	                            <option value="1950">1950</option>
	                            <option value="1949">1949</option>
	                            <option value="1948">1948</option>
	                            <option value="1947">1947</option>
	                            <option value="1946">1946</option>
	                            <option value="1945">1945</option>
	                            <option value="1944">1944</option>
	                            <option value="1943">1943</option>
	                            <option value="1942">1942</option>
	                            <option value="1941">1941</option>
	                            <option value="1940">1940</option>
	                            <option value="1939">1939</option>
	                            <option value="1938">1938</option>
	                            <option value="1937">1937</option>
	                            <option value="1936">1936</option>
	                            <option value="1935">1935</option>
	                            <option value="1934">1934</option>

                            </select>
                        </div>           
        <div style="clear:both"></div>*@
                <br />                       
                        <h4>Contact Info</h4>
                <div style="clear:both"></div>
                <hr />
                     
                        <div class="editor-label">Contact No.*</div>                       
                        <div class="editor-field"><input name="txtContact" type="text" maxlength="30" value="@ViewBag.Contact" id="txtContact">@Html.ValidationMessage("Contact")</div>
                            
        <div style="clear:both"></div>    
    
                 
                <br />
                         <h4>Your Password</h4>
                      
                 <hr />
              
                        <div class="editor-label">Password*</div>
                        <div class="editor-field"><input name="txtPassowrd" type="password" value="@ViewBag.Password" id="txtPassowrd">@Html.ValidationMessage("Password")</div>
                            
    <div style="clear:both"></div>
    
                        <div class="editor-label">Re-enter Password*</div>
                        <div class="editor-field"><input name="txtRePassowrd" type="password" value="@ViewBag.RePassword" id="txtRePassowrd">@Html.ValidationMessage("RePassword")</div>
    
@*    <div style="clear:both"></div>
                <br />
                            <h4>Captcha Verification</h4>
                      
                <hr />
               
                            
                            <img id="imgCaptcha" src="/../images/captcha.png" alt="captcha"><br>
<p style="margin-top:10px;">
    Please input the code shown above<br /><div style="margin-top:10px;"></div>
    <input name="CaptchaCode" type="text" id="CaptchaCode">
</p>
<p>
    <span ></span>
</p>

                            <a  href="javascript:__doPostBack('Captcha','')">Try different code</a>
    <div>

        <input type="hidden" name="captchaText" id="captchaText">
    </div>*@
       <div style="clear:both"></div>
               <br /> 
    <div class="editor-label"></div>       
                            <input type="submit" name="register" value="Register">
                       
</div>
 }
<div style="clear:both"></div>


 <div  style="display: none; left: 478px; top: 244px;">
	<div><img src="./images/top-info-box.png" width="182" height="27" alt="tooltip"></div>
	<div class="innerDiv" id="divTooltipText">Please enter your valid email.</div>
	<div><img src="./images/bottom-info-box.png" width="182" height="9" alt="tooltip"></div>
 </div>

  
  
  <div id="divUserRegistered" align="center" style="display:none; margin: 10px auto 0px auto; width:400;">
    <table cellpadding="0" cellspacing="0" border="0" align="center" width="400">

        <tbody><tr>
            <td class="pop-ups-top-left" align="left" width="16">
            </td>
            <td class="pop-ups-top-rep">
                Thank you
            </td>
            <td class="pop-ups-top-right" align="right" width="16">
            </td>
        </tr>
        <tr>
            <td class="pop-ups-left-rep" align="left" width="16">
            </td>
            <td align="center" style="font-size: 13px; padding: 20px;">
                Thank you for registering with us. We have just sent you an email containing membership activation instructions with a verification link. Please click on that link to activate your account.
                <br>
                    <a   href="javascript:__doPostBack('ctl00$ctl00$cph1$cph1$as1$btnContinue','')" style="display:inline-block;width:60px;margin-top: 10px;"><span>Continue</span></a>
            </td>
            <td  align="right" width="16">
            </td>
        </tr>
        <tr>
            <td  align="left" width="16">
            </td>
            <td >
            </td>
            <td align="right" width="16">
            </td>
        </tr>
      
    </tbody></table>
</div>

        </div>
   

    <div style="clear:both"></div>
</div>

@section scripts{
     <script type="text/javascript">
           
            $(document).ready(function () {
                $('#txtEmail').blur(function () {
                    if ($('#txtEmail').val != "") {
                        //var params = { email: $(this).val() };
                        $.ajax({
                            url: "CheckUserEmail",
                            type: "post",
                            data: { email: $("#txtEmail").val() },
                            success: function (response, textStatus, jqXHR) {

                                if (response.IsExisting == "Exists") {
                                    // User name is existing already, you can display a message to the user
                                    $("#User_EmailExists").html("Email Already Exists")
                                    $("#User_EmailExists").css("color", "red");
                                    //$('input[type="submit"]').attr('disabled', 'disabled');
                                    emailConf = "false";
                                    savedBtnStatus();
                                }
                                else {
                                    // User name is not existing
                                    $("#User_EmailExists").html("")
                                    $("#User_EmailExists").css("color", "green");
                                    //$('input[type="submit"]').removeAttr('disabled');
                                    emailConf = "true";
                                    savedBtnStatus();
                                }
                            },
                            error: function (jqXHR, textStatus, errorThrown) {

                                alert("error");
                            },
                            // callback handler that will be called on completion
                            // which means, either on success or error
                            complete: function () {
                            }
                        });
                    }
                    else {
                        $("#User_EmailExists").html("Email Cannot be Empty")
                        $("#User_EmailExists").css("color", "red");
                        emailConf = "false";
                        savedBtnStatus();
                    }
                });
            });



           

</script>
}